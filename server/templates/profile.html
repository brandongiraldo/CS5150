<!-- extend base layout -->
{% extends "base.html" %}
{% block content %}

<div class="spacer"></div>

    {% if current_user.is_student %}
        {% include "partials/student_profile.html" %}
    {% else %}
        {% include "partials/professor_profile.html" %}
    {% endif %}

    <script type="text/javascript">
        
            $('#user_year_select option').each(function() {
              if ($(this).val() == "{{ profile.year }}") {
                $(this).prop('selected','selected');
              }
            });
            $(document).on("change keyup", "input, select, textarea", function () {
                $('#save-profile-updates').css('display', 'block');
            });
            $('#resume-upload').bind('change', function() {
                fileName = $(this).val().substring($(this).val().lastIndexOf("\\")+1);
                $('.file-selected').html(fileName); 
            });
            $('.typeahead input').tagsinput({
                typeahead: {
                    source: ['C++', 'Java', 'Test', 'Something', 'OK']
                },
                freeInput: false,
                // Typeahead fix
                onTagExists: function() {
                    setTimeout(function() {
                        $(">input[type=text]",".bootstrap-tagsinput").val("");
                    }, 1);
                }
            });
            // Typeahead fix
            $('.typeahead input').on('itemAdded', function(event) {
                setTimeout(function(){
                    $(">input[type=text]",".bootstrap-tagsinput").val("");
                }, 1);
            });
            
            // No Enter button
            $('.typeahead input').keydown(function(event){
                if(event.keyCode == 13) {
                    event.preventDefault();
                    return false;
                }
            });
        
    </script>

{% endblock %}